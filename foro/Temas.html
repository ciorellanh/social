<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" type="text/css" href="../libs/css/bootstrap/css/bootstrap.min.css"/>


    <script type="text/javascript" src="../libs/js/jquery-3.1.0.js"></script>
    <script type="text/javascript" src="../libs/js/angular/angular.js"></script>
    <script type="text/javascript" src="../libs/js/app/Temas.js"></script>
  </head>
  <body>
    <div class="widget-box" id="recent-box" ng-app="myApp" ng-controller="temasController">
      <div class="widget-header header-color-blue">
        <div class="row">
          <div class="col-sm-6">
            <h4 class="bigger lighter">
            	<i class="glyphicon glyphicon-align-justify"></i>&nbsp;
            	Temas de conversación
            </h4>
          </div>
          <div class="col-sm-3">
            <button ng-click="addNewClicked=!addNewClicked;" class="btn btn-sm btn-danger header-elements-margin"><i class="glyphicon  glyphicon-plus"></i>&nbsp;Agregar nuevo tema</button>
          </div>
          <div class="col-sm-3">

            <input type="text" ng-model="filtrarTema" class="form-control search header-elements-margin" placeholder="Buscar tema">

          </div>
        </div>
      </div>
      <div class="widget-body ">
        <form ng-init="addNewClicked=false; " ng-if="addNewClicked" id="newTaskForm" class="add-task">
          <div class="form-actions">
            <div class="input-group">
              <input type="text" class="form-control" name="Tema" ng-model="tTema" placeholder="Agregar nuevo tema" ng-focus="addNewClicked">
              <input type="text" class="form-control" name="Descripcion" ng-model="tDescripcion" placeholder="Descripción del tema" ng-focus="addNewClicked">
              <div class="input-group-btn">
                <button class="btn btn-default" type="button" ng-click="nuevoTema(Tema,Descripcion)"><i class="glyphicon glyphicon-plus"></i>&nbsp;Agregar nuevo tema</button>
              </div>
            </div>
          </div>
        </form>
        <br>
        <table width="100%">
          <tr ng-repeat="tema in lstTemas | filter:filtrarTema">
            <td>
              <div class="task">
                <table class="table table-striped table-bordered table-hover table-responsive" width="100%">
                  <thead>
                    <tr>
                      <th>
                        <a href="#">{{tema.tema}}</a>
                      </th>
                      <th style="width:250px;">
                        Creado por {{tema.usuario}} el {{tema.fecha}}
                      </th>
                    </tr>
                  </thead>
              	  <tbody>
                    <tr>
                      <td colspan="2" ng-bind="tema.descripcion">
                      </td>
                    </tr>
              	  </tbody>
              	</table>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </body>
</html>
